<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <title>Internal Clients Registration Form</title>
    <style>
      @page {
        size: 8.5in 13in;
        margin-left: 1cm;
        margin-right: 1cm;
        margin-top: 1cm;
        margin-bottom: 1cm;
      }
      @media print {
  .form-page {
    display: block !important;
  }

  .navbar,
  .footer,
  .navigation {         
    display: none !important;
  }
}

      body {
        font-family: Century Gothic, sans-serif;
        font-size: 11px;
        margin: 0;
        padding: 0;
      }
      .navbar {
        background-color: #2e7d32; /* dark green */
        color: white;
        display: flex;
        justify-content: space-between;
        align-items: center;
        padding: 1rem 2rem;
        position: relative;
      }
      .nav-links {
        list-style: none;
        display: flex;
        gap: 2rem;
      }

      .nav-links li a {
        text-decoration: none;
        color: white;
        font-weight: 500;
        font-size: 16px;
      }

      .nav-links li a:hover {
        color: #a5d6a7;
      }
      .footer {
        background-color: #033e2e;
        color: white;
        text-align: center;
        padding: 20px;
        font-size: 14px;
      }
      .form-container {
        width: 100%;
        padding: 10px;
        box-sizing: border-box;
      }
      table {
        width: 100%;
        border-collapse: collapse;
        margin-bottom: 10px;
      }
      td,
      th {
        border: 1px solid black;
        padding: 5px;
        vertical-align: top;
      }
      .no-border {
        border: none !important;
      }
      .form-title {
        background-color: #3535354d;
        text-align: center;
        font-weight: bold;
        padding: 8px;
        margin-bottom: 10px;
        border: 2px solid black;
        border-radius: 7px;
      }
      .two-columns {
        display: flex;
        gap: 10px;
        padding: 0;
        box-sizing: border-box;
      }
      .two-columns > div {
        flex: 1;
      }
      .two-columns table {
        width: 100%;
      }
      .page-break {
        page-break-before: always;
      }
      .section-title {
        font-weight: bold;
        background-color: #747272;
      }
      .small {
        font-size: 10px;
      }
      .header-row {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: 4px;
      }
      .header-row img {
        height: 40px;
      }
      .form-page {
        display: none;
      }
      .form-page.active {
        display: block;
      }
      .navigation {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-top: 20px;
      }
      button {
        padding: 6px 12px;
        font-size: 14px;
      }
      .outer-border {
        border: 1px solid black;
        border-collapse: separate;
        border-spacing: 0;
      }

      .outer-border td,
      .outer-border th {
        border: none;
        padding: 8px;
      }
      .no-border {
        border-collapse: collapse;
        border: none;
      }
      .no-border td,
      .no-border th {
        border: none;
        padding: 5px;
      }

      .full-form {
        max-width: 600px;
        margin: auto;
        font-family: system-ui, sans-serif;
      }
      .full-form label {
        display: block;
        margin-bottom: 1.25rem;
      }
      .full-form input,
      .full-form select {
        width: 100%;
        padding: 0.5rem;
        font-size: 1rem;
        margin-top: 0.25rem;
        box-sizing: border-box;
      }

      .step {
        display: none;
        animation: fade 0.25s linear forwards;
      }
      .step.active {
        display: block;
      }

      @keyframes fade {
        from {
          opacity: 0;
          transform: translateY(8px);
        }
        to {
          opacity: 1;
          transform: none;
        }
      }

      @media screen {
        #internalForm,
        #combinedForm {
          display: none;
        }
      }
      @media print {
        #userForm {
          display: none !important;
        }
        .form-page,
        #combinedForm {
          display: block !important;
        }
      }
    </style>
    <meta charset="utf-8" />
    <meta content="width=device-width, initial-scale=1.0" name="viewport" />
    <title>UC Campus</title>
    <link
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css"
      rel="stylesheet"
    />
  </head>
  <script>
    function onlyOne(checkbox, groupName) {
      const groupCheckboxes = document.querySelectorAll(
        `input[name="${groupName}"]`
      );
      groupCheckboxes.forEach((cb) => {
        if (cb !== checkbox) cb.checked = false;
      });
    }

    function toggleLongTablesCount(checkbox) {
      const countBox = document.getElementById("u_long_tables_count");
      if (checkbox.value === "yes") {
        countBox.disabled = !checkbox.checked;
      } else if (checkbox.value === "no" && checkbox.checked) {
        countBox.disabled = true;
        countBox.value = "";
      }
    }
  </script>

  <body>
    <nav class="navbar">
      <div class="logo">
        <img
          alt="UC Logo"
          src="https://upload.wikimedia.org/wikipedia/commons/8/84/UC_Official_Logo.png"
          style="height: 75px; width: auto"
        />
      </div>
      <ul class="nav-links" id="navLinks">
        <li><a class="active" href="home.html">Home</a></li>
        <li><a href="#">Inquire</a></li>
        <li><a href="reservation.html">Reservation</a></li>
      </ul>
    </nav>

    <form id="userForm" class="full-form">
      <h2>Internal Clients Request Form</h2>

      <label
        >College / Office / Department
        <input
          type="text"
          name="u_org"
          data-target="organization_name"
          required
        />
      </label>

      <label
        >Contact Number / Email
        <input type="text" name="u_contact" data-target="contact" required />
      </label>

      <label
        >Function / Event
        <input type="text" name="u_event" data-target="event_name" required />
      </label>

      <label
        >Requested Venue / Room
        <select name="u_room" data-target="requested_room" required>
          <option value="">— Select —</option>
          <option>Auditorium</option>
          <option>AV Room</option>
          <option>Function Hall</option>
        </select>
      </label>

      <label
        >Number of Attendees
        <input
          type="number"
          name="u_attend"
          data-target="attendees"
          min="1"
          required
        />
      </label>

      <label
        >Day / Date of Event
        <input type="date" id="u_date" name="u_date" data-target="event_date" required />
      </label>

      <label
        >Time Start
        <input type="time" id="u_start" name="u_start" data-target="time_start" required />
      </label>

      <label
        >Time End
        <input type="time" id="u_end" name="u_end" data-target="time_end" required />
      </label>

      <label
        >Budget Source
        <input type="text" name="u_budget" data-target="budget_source" />
      </label>

      <label
        >Admission Fee
        <input type="text" name="u_fee" data-target="admission_fee" />
      </label>

      <label
        >Other Fees (please indicate)
        <input type="text" name="u_other_fees" data-target="other_fees" />
      </label>

      <label
        >Scope of Activity
        <input type="text" name="u_scope" data-target="audience_type" />
      </label>

      <fieldset>
        <legend>With Food / Canteen Service?</legend>

        <label>
          <input
            type="checkbox"
            name="u_food"
            value="yes"
            onclick="onlyOne(this, 'u_food')"
            data-target="food_service"
            data-value="yes"
          />
          Yes
        </label>

        <label>
          <input
            type="checkbox"
            name="u_food"
            value="no"
            onclick="onlyOne(this, 'u_food')"
            data-target="food_service"
            data-value="no"
          />
          No
        </label>
      </fieldset>

      <fieldset>
        <legend>Audio-Visual Requirements</legend>
        <label
          ><input
            type="checkbox"
            name="mic"
            value="Microphones"
            data-target="mic_checkbox"
          />
          Microphones</label
        >
        <label
          ><input
            type="checkbox"
            name="mic_stand"
            value="Mic_Stands"
            data-target="mic_stands_checkbox"
          />
          Microphone Stands</label
        >
        <label
          ><input
            type="checkbox"
            name="projector"
            value="Projector"
            data-target="projector_checkbox"
          />
          Projector</label
        >
        <label
          ><input
            type="checkbox"
            name="pa_system"
            value="PA_System"
            data-target="pa_system_checkbox"
          />
          PA System</label
        >
        <label
          ><input
            type="checkbox"
            name="laptop"
            value="Laptop"
            data-target="laptop_checkbox"
          />
          Laptop</label
        >
        <label
          ><input
            type="checkbox"
            name="lights"
            value="Lights"
            data-target="lights_checkbox"
          />
          Lights</label
        >
        <label
          ><input
            type="checkbox"
            name="wifi_connection"
            value="WiFi_Connection"
            data-target="wifi_checkbox"
          />
          WiFi Connection</label
        >
        <label
          ><input
            type="checkbox"
            name="podium_monitor"
            value="Podium_Monitor"
            data-target="podium_checkbox"
          />
          Podium Monitor Board</label
        >
        <label
          ><input
            type="checkbox"
            name="live_streaming"
            value="Live_Streaming"
            data-target="stream_checkbox"
          />
          Live Streaming</label
        >

        <label
          >Other AV needs:
          <input type="text" name="u_av_other" data-target="others_AV" />
        </label>
      </fieldset>

      <fieldset>
        <legend>Medical Team Needed?</legend>
        <label>
          <input
            type="checkbox"
            name="u_medical"
            value="yes"
            onclick="onlyOne(this, 'u_medical')"
            data-target="medical_team"
            data-value="yes"
          />
          Yes
        </label>
        <label>
          <input
            type="checkbox"
            name="u_medical"
            value="no"
            onclick="onlyOne(this, 'u_medical')"
            data-target="medical_team"
            data-value="no"
          />
          No
        </label>
      </fieldset>

      <fieldset>
        <legend>Security Guards Needed?</legend>
        <label>
          <input
            type="checkbox"
            name="u_security"
            value="yes"
            onclick="onlyOne(this, 'u_security')"
            data-target="security_guards"
            data-value="yes"
          />
          Yes
        </label>
        <label>
          <input
            type="checkbox"
            name="u_security"
            value="no"
            onclick="onlyOne(this, 'u_security')"
            data-target="security_guards"
            data-value="no"
          />
          No
        </label>
      </fieldset>

      <fieldset>
        <legend>Property / Equipment Needs (from LMO)</legend>

        <!-- Air Cooler -->
        <label>Air Cooler:</label><br />
        <label>
          <input
            type="checkbox"
            name="u_air_cooler"
            value="yes"
            onclick="onlyOne(this, 'u_air_cooler')"
            data-target="air_cooler"
            data-value="yes"
          />
          Yes
        </label>
        <label>
          <input
            type="checkbox"
            name="u_air_cooler"
            value="no"
            onclick="onlyOne(this, 'u_air_cooler')"
            data-target="air_cooler"
            data-value="no"
          />
          No
        </label>

        <br /><br />

        <!-- Long Tables -->
        <fieldset>
          <legend>Long Tables:</legend>

          <label>
            <input
              type="checkbox"
              name="u_long_tables"
              value="yes"
              onclick="onlyOne(this, 'u_long_tables'); toggleLongTablesCount(this);"
              data-target="long_tables"
              data-value="yes"
            />
            Yes </label
          ><br />

          <label>
            <input
              type="checkbox"
              name="u_long_tables"
              value="no"
              onclick="onlyOne(this, 'u_long_tables'); toggleLongTablesCount(this);"
              data-target="long_tables"
              data-value="no"
            />
            No </label
          ><br /><br />

          <label>
            If Yes, how many?
            <input
              type="number"
              name="u_long_tables_count"
              id="u_long_tables_count"
              data-target="long_tables_count"
              min="0"
              style="width: 60px"
              disabled
            />
          </label>
        </fieldset>

        <br /><br />

        <!-- Flags -->
        <label>Philippine Flag and UC Flag:</label><br />
        <label>
          <input
            type="checkbox"
            name="u_flags"
            value="yes"
            onclick="onlyOne(this, 'u_flags')"
            data-target="flags"
            data-value="yes"
          />
          Yes
        </label>
        <label>
          <input
            type="checkbox"
            name="u_flags"
            value="no"
            onclick="onlyOne(this, 'u_flags')"
            data-target="flags"
            data-value="no"
          />
          No
        </label>
      </fieldset>

      <button type="button" id="preparePrint">Submit &amp; Print</button>
    </form>
<footer class="footer">
  © 2025 University of the Cordilleras. All Rights Reserved.
</footer>
    <form
      class="form-container"
      id="combinedForm"
      onsubmit="event.preventDefault(); window.print();"
    >

    <input type="hidden" id="curfew_required" name="curfew_required" />

      <!-- PAGE 1 -->
      <!-- Header Section -->
      <div class="form-page active" id="page1">
        <div class="header-row">
          <img alt="University of the Cordilleras Logo" src="pending logo" />
          <div style="text-align: right">
            <strong>CAMPUS MANAGEMENT OFFICE</strong><br />
            <strong>Facilities Management Operations Unit</strong>
          </div>
        </div>
        <!-- Second Section -->
        <div style="text-align: center">
          <strong style="font-size: 14px"
            >FACILITIES AND SERVICES REQUEST FORM FOR INTERNAL CLIENTS</strong
          ><br />
        </div>
        <br />
        <strong
          >NOTE: Submit two (2) copies of this form at least two (2) weeks prior
          to your event.</strong
        >
        <table>
          <tr>
            <td colspan="2" style="width: 50%">
              <strong>College/ Office/ Department/ Organization:</strong>
              <input
                id="organization_name"
                name="organization_name"
                style="width: 98%"
                type="text"
              />
            </td>
            <td colspan="1" style="width: 25%">
              <strong>Contact Number/ *Email:</strong>
              <input
                id="contact"
                name="contact"
                style="width: 98%"
                type="text"
              />
            </td>
            <td colspan="1" style="width: 25%">
              <strong>Budget Source:</strong>
              <input
                id="budget_source"
                name="budget_source"
                style="width: 98%"
                type="text"
              />
            </td>
          </tr>
          <tr>
            <td colspan="2">
              <strong>Function/Event:</strong>
              <input
                id="event_name"
                name="event_name"
                style="width: 98%"
                type="text"
              />
            </td>
            <td colspan="2">
              <strong>Date/Day of Event</strong>
              <input
                id="event_date"
                name="event_date"
                style="width: 98%"
                type="date"
              />
            </td>
          </tr>
          <tr>
            <td colspan="1" style="width: 35%">
              <strong>Requested Venue/Room</strong>
              <input
                id="requested_room"
                name="requested_room"
                style="width: 98%"
                type="text"
              />
            </td>
            <td colspan="1" style="width: 25%">
              <strong>Number of Attendees</strong>
              <input
                id="attendees"
                name="attendees"
                style="width: 96%"
                type="text"
              />
            </td>
            <td colspan="1" style="width: 20%">
              <strong>Time Start:</strong>
              <input
                id="time_start"
                name="time_start"
                style="width: 95%"
                type="text"
              />
            </td>
            <td colspan="1" style="width: 20%">
              <strong>Time End:</strong>
              <input
                id="time_end"
                name="time_end"
                style="width: 96%"
                type="text"
              />
            </td>
          </tr>
          <tr>
            <td colspan="1" style="width: 35%">
              <strong>Admission Fee:</strong>
              <div style="text-align: center">
                <label style="margin-right: 15px">
                  <input
                    type="checkbox"
                    name="admission_fee"
                    value="free"
                    onclick="onlyOne(this, 'admission_fee')"
                  />
                  Free
                </label>
                <label>
                  <input
                    type="checkbox"
                    name="admission_fee"
                    value="php"
                    onclick="onlyOne(this, 'admission_fee')"
                  />
                  PHP
                  <input
                    type="text"
                    name="admission_amount"
                    style="width: 60px"
                  />
                </label>
              </div>
              <div style="margin-top: 3px; font-style: italic; font-size: 9px">
                ***for other fees, please indicate
                <input
                  id="indicated_fees"
                  name="organization_name"
                  style="width: 30%"
                  type="text"
                />
              </div>
            </td>
            <td colspan="1" style="width: 25%">
              <strong>Scope of Activity:</strong>
              <div>
                <input
                  type="checkbox"
                  name="audience_type"
                  value="general"
                  onclick="onlyOne(this, 'audience_type')"
                />
                General Public
                <br />
                <input
                  type="checkbox"
                  name="audience_type"
                  value="exclusive"
                  onclick="onlyOne(this, 'audience_type')"
                />
                Exclusive
              </div>
            </td>
            <td colspan="2" style="width: 40%">
              <div
                style="
                  display: flex;
                  justify-content: space-between;
                  align-items: center;
                "
              >
                <!-- Left side: Food Service Yes/No -->
                <div style="text-align: center; width: 50%">
                  <strong>*With Food/Canteen Services?</strong><br />
                  <label>
                    <input
                      type="checkbox"
                      name="food_service"
                      value="yes"
                      onclick="onlyOne(this, 'food_service')"
                    />
                    Yes
                  </label>
                  &nbsp;&nbsp;&nbsp;
                  <label>
                    <input
                      type="checkbox"
                      name="food_service"
                      value="no"
                      onclick="onlyOne(this, 'food_service')"
                    />
                    No
                  </label>
                </div>

                <div style="text-align: center; width: 50%">
                  <strong>Canteen:</strong><br /><br />
                  <strong>____________________________</strong><br />
                  <strong>(Name | Signature | Date)</strong>
                </div>
              </div>
            </td>
          </tr>
        </table>
        <table>
          <strong>*Facilities Services</strong>
          <td>
            <div>
              Please attach a floor plan and include all set-up needs. (Podium,
              chairs, tables, riser, platform, *native cloth, etc)
            </div>
          </td>
        </table>
        <table class="outer-border">
          <strong>Audio-Visual Requirements</strong>
          <tr>
            <td colspan="1">
              <label
                ><input type="checkbox" /> Microphones:&nbsp;<input
                  id="mic"
                  min="0"
                  name="mic"
                  step="1"
                  style="width: 10%"
                  type="number"
                />
                pcs</label
              ><br />
              <label
                ><input type="checkbox" /> Microphone Stands:&nbsp;<input
                  id="mic_stands"
                  min="0"
                  name="mic_stands"
                  step="1"
                  style="width: 10%"
                  type="number"
                />
                pcs</label
              ><br />
              <label><input type="checkbox" /> Projector</label><br />
              <label><input type="checkbox" /> PA System</label><br />
            </td>
            <td colspan="1">
              <label><input type="checkbox" /> Laptop</label><br />
              <label><input type="checkbox" /> Lights</label><br />
              <label
                ><input type="checkbox" /> Other AV needs:<br /><input
                  name="others_AV"
                  style="width: 75%"
                  type="text" /></label
              ><br />
            </td>
            <td colspan="1">
              <label><input type="checkbox" /> WiFi Connection</label><br />
              <label><input type="checkbox" /> Podium Monitor Board</label
              ><br />
              <label><input type="checkbox" /> Live Streaming</label><br />
            </td>
          </tr>
          <tr>
            <td style="text-align: center; width: 33%">
              <strong>*Maintenance Operation Unit:</strong><br />
              <strong>____________________________</strong><br />
              <strong>(Name | Signature | Date)</strong>
            </td>
            <td style="text-align: center; width: 33%">
              <strong>*Media Center:</strong><br />
              <strong>____________________________</strong><br />
              <strong>(Name | Signature | Date)</strong>
            </td>
            <td style="text-align: center; width: 34%">
              <strong>iTSS:</strong><br />
              <strong>____________________________</strong><br />
              <strong>(Name | Signature | Date)</strong>
            </td>
          </tr>
        </table>
        <table class="outer-border">
          <strong>Medical/ Safety and Security Services</strong>
          <tr>
            <td style="text-align: center; width: 50%">
              <strong>Medical Team Needed?</strong><br />
              <strong
                ><input
                  type="checkbox"
                  name="medical_team"
                  value="yes"
                  onclick="onlyOne(this, 'medical_team')"
                />
                Yes</strong
              >&nbsp;&nbsp;&nbsp;&nbsp;
              <strong
                ><input
                  type="checkbox"
                  name="medical_team"
                  value="no"
                  onclick="onlyOne(this, 'medical_team')"
                />
                No</strong
              ><br />
            </td>
            <td style="text-align: center; width: 50%">
              <strong>Security Guards Needed?</strong><br />
              <strong
                ><input
                  type="checkbox"
                  name="security_guards"
                  value="yes"
                  onclick="onlyOne(this, 'security_guards')"
                />
                Yes</strong
              >&nbsp;&nbsp;&nbsp;&nbsp;
              <strong
                ><input
                  type="checkbox"
                  name="security_guards"
                  value="no"
                  onclick="onlyOne(this, 'security_guards')"
                />
                No</strong
              ><br />
            </td>
          </tr>
          <tr>
            <td style="text-align: center; width: 50%">
              <strong>Medical Clinic:</strong><br />
              <strong>____________________________</strong><br />
              <strong>(Name | Signature | Date)</strong>
            </td>
            <td style="text-align: center; width: 50%">
              <strong>*Occupational Safety and Health Office:</strong><br />
              <strong>____________________________</strong><br />
              <strong>(Name | Signature | Date)</strong>
            </td>
          </tr>
        </table>
        <table class="no-border">
          <strong>Property/ Equipment Needs (from LMO)</strong>
          <tr>
            <td style="text-align: center; width: 33%">
              <label>Air Cooler</label>
            </td>
            <td style="text-align: center; width: 33%">
              <label>Long Tables</label>
            </td>
            <td style="text-align: center; width: 34%">
              <label>Philippine Flag and UC Flag</label>
            </td>
          </tr>
          <tr>
            <td style="text-align: center; width: 33%">
              <strong>
                <input
                  type="checkbox"
                  name="air_cooler"
                  value="yes"
                  onclick="onlyOne(this, 'air_cooler')"
                />
                Yes
              </strong>
              &nbsp;&nbsp;
              <strong>
                <input
                  type="checkbox"
                  name="air_cooler"
                  value="no"
                  onclick="onlyOne(this, 'air_cooler')"
                />
                No
              </strong>
            </td>

            <td style="text-align: center; width: 33%">
              <strong>
                <input
                  type="checkbox"
                  name="long_tables"
                  value="yes"
                  onclick="onlyOne(this, 'long_tables')"
                />
                Yes, How many?
                <input
                  id="long_tables_count"
                  min="0"
                  name="long_tables"
                  step="1"
                  style="width: 15%"
                  type="number"
                /><br />
              </strong>
              &nbsp;&nbsp;
              <strong>
                <input
                  type="checkbox"
                  name="long_tables"
                  value="no"
                  onclick="onlyOne(this, 'long_tables')"
                />
                No
              </strong>
            </td>

            <td style="text-align: center; width: 34%">
              <strong>
                <input
                  type="checkbox"
                  name="flags"
                  value="yes"
                  onclick="onlyOne(this, 'flags')"
                />
                Yes
              </strong>
              &nbsp;&nbsp;
              <strong>
                <input
                  type="checkbox"
                  name="flags"
                  value="no"
                  onclick="onlyOne(this, 'flags')"
                />
                No
              </strong>
            </td>
          </tr>
          <tr>
            <td style="text-align: center; width: 33%">
              <strong>Logistic Management Office:</strong><br />
              <strong>____________________________</strong><br />
              <strong>(Name | Signature | Date)</strong>
            </td>
          </tr>
        </table>
        <table class="outer-border">
          <tr>
            <td colspan="2">
              I have read and discussed with the Director of *Campus Management
              Office the policies and guidelines and accept personal
              responsibility to abide by them. I understand that the use of UC
              Facilities is contingent upon the approval of the concerned
              Offices.
            </td>
          </tr>
          <tr>
            <td colspan="1">
              I understand there may be additional charges for:
              <ul>
                <li>Set-up/ take-down/ if overtime is required</li>
                <li>Technician</li>
                <li>Electricity Needs</li>
                <li>Parking arrangements for large events</li>
              </ul>
            </td>
            <td colspan="1">
              <br />
              <ul>
                <li>Rental additional equipment, if any</li>
                <li>Cleaning, damage, repair of facilities or grounds</li>
                <li>Security personnel beyond regularly scheduled guards</li>
              </ul>
            </td>
          </tr>
          <tr>
            <td colspan="2">
              By signing this form, I acknowledge responsibility for the care
              and condition of facilities and equipment used by our department/
              organization.
            </td>
          </tr>
          <tr>
            <td colspan="2" style="text-align: center">
              <div
                style="
                  display: inline-block;
                  text-align: center;
                  margin-right: 40px;
                "
              >
                <strong>_________________________________</strong><br />
                <strong>Name and Signature of Contact Person</strong>
              </div>
              <div style="display: inline-block; text-align: center">
                <strong>___________</strong><br />
                <strong>Date</strong>
              </div>
            </td>
          </tr>
        </table>
        <table>
          <tr>
            <td style="width: 50%">
              <strong>For Facilities Management Office Use Only</strong><br />
              <p>
                &nbsp;&nbsp;Catering Clean up to be completed by<br />
                &nbsp;&nbsp;<input
                  name="catering"
                  style="width: 50%"
                  type="text"
                />&nbsp;&nbsp;&nbsp;Date: ___________<br />
                &nbsp;&nbsp;Retrieval of Audio-Visual Equipment to be done by
                &nbsp;&nbsp;<input
                  name="AV_retrieval"
                  style="width: 50%"
                  type="text"
                />&nbsp;&nbsp;&nbsp;Date: ___________
              </p>
            </td>
            <td style="width: 50%">
              <br />
              <strong>With Payment?</strong
              >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;

              <label>
                <input
                  type="checkbox"
                  name="payment"
                  value="yes"
                  onclick="onlyOne(this, 'payment')"
                />
                Yes
              </label>

              &nbsp;&nbsp;&nbsp;&nbsp;

              <label>
                <input
                  type="checkbox"
                  name="payment"
                  value="no"
                  onclick="onlyOne(this, 'payment')"
                />
                No </label
              ><br />
              <ul>
                <li>
                  <strong>
                    Rental Fees&nbsp;
                    <input name="rental_fees" style="width: 20%" type="text" />
                    &nbsp;O.R. # &nbsp;
                    <input name="rental_or" style="width: 20%" type="text" />
                  </strong>
                </li>
                <li>
                  <strong>
                    Other Fees&nbsp;&nbsp;
                    <input name="other_fees" style="width: 20%" type="text" />
                    &nbsp;O.R. # &nbsp;
                    <input name="other_or" style="width: 20%" type="text" />
                  </strong>
                </li>
              </ul>
            </td>
          </tr>
          <tr>
            <td style="background-color: #918f8f">
              <strong>Approved By</strong><br />
            </td>
            <td style="background-color: #918f8f">
              <strong>Health &amp; Safety Protocol Approved By</strong>
            </td>
          </tr>
          <tr>
            <td><br /></td>
          </tr>
          <tr>
            <td style="text-align: center">
              <strong>Director, *Campus Management Office</strong><br />
              <strong>(Name | Signature | Date)</strong>
            </td>
            <td style="text-align: center">
              <strong>VP for Administration &amp; Student Services</strong
              ><br />
              <strong>(Name | Signature | Date)</strong>
            </td>
          </tr>
        </table>
      </div>
    </form>

    <script>
document.addEventListener("DOMContentLoaded", () => {
  /* For editing */
  const HOLIDAYS   = ["2025-01-01", "2025-04-09", "2025-12-25"]; /* sample holidates */
  const EARLIEST   = "07:30";
  const LATEST     = "19:30";
  const MAX_HOURS  = 4;
  const CURFEW_URL = "exemption-form.html";

  const btnPrint   = document.getElementById("preparePrint");
  if (!btnPrint) { console.error("preparePrint button not found"); return; }

  /* Time string to total minutes */
  const toMin = t => { const [h, m] = t.split(":").map(Number); return h * 60 + m; };

  /* Determine if curfew rules are triggered */
  function curfewReasons() {
  const date  = document.getElementById("u_date") ?.value;
  const start = document.getElementById("u_start")?.value;
  const end   = document.getElementById("u_end")  ?.value;
  
  // Track reasoning
  const reasons = [];

  // uses from YYYY-MM-DD
  if (date) {
    const [year, month, day] = date.split("-").map(Number);
    const d = new Date(year, month - 1, day);

    const isSunday = d.getDay() === 0;
    if (isSunday) reasons.push("• Event is on a **Sunday**.");

    if (HOLIDAYS.includes(date)) {
      reasons.push("• Event is on a **holiday**.");
    }
  }

  // Exit early if no time inputs
  if (!start || !end) return reasons;

  if (toMin(start) < toMin(EARLIEST)) {
    reasons.push("• Starts **before 7:30-AM**.");
  }

  if (toMin(end) > toMin(LATEST)) {
    reasons.push("• Ends **after 7:30-PM**.");
  }

  // Check duration
  if (toMin(end) - toMin(start) > MAX_HOURS * 60) {
    reasons.push("• Duration **exceeds 4 hours**.");
  }

  return reasons;
}

  /* Copy values from user form to internal form */
  function copyUserValues() {
    document.querySelectorAll('#userForm [data-target]:not([type="checkbox"]):not([type="radio"])')
      .forEach(src => {
        const dst = document.getElementById(src.dataset.target);
        if (dst) {
          dst.value = src.value;
          dst.textContent = src.value;
        }
      });

    // checkboxes / radios
    document.querySelectorAll(
      '#userForm input[type="checkbox"][data-target], #userForm input[type="radio"][data-target]'
    ).forEach(src => {
      if (!src.checked) return;

      const tgtName = src.dataset.target;
      const tgtValue = src.dataset.value;

      let dst = tgtValue !== undefined
        ? document.querySelector(`#combinedForm input[name="${tgtName}"][value="${tgtValue}"]`)
        : document.getElementById(tgtName);

      if (dst) dst.checked = true;
    });
  }

  /* Handle submit/print with curfew check */
  let curfewAcknowledged = false;

  btnPrint.addEventListener("click", () => {
    const reasons = curfewReasons();

    // If curfew rules are triggered and not yet acknowledged
    if (reasons.length && !curfewAcknowledged) {
      const msg =
        "This booking triggers curfew rules:\n\n" +
        reasons.join("\n") +
        "\n\nDo you want to open the Curfew/Exemption form now?";
      if (confirm(msg)) {
        window.open(CURFEW_URL, "_blank");
        curfewAcknowledged = true;

        // Let internal form know curfew form was needed
        const flag = document.getElementById("curfew_required");
        if (flag) flag.value = "Yes";
      }
      return; // Cancel actual print until confirmation next time
    }

    copyUserValues();
    window.print();
  });

  /* Update header info before printing */
  window.addEventListener("beforeprint", () => {
    const subDate = document.getElementById("submission-date");
    if (subDate) {
      subDate.textContent = new Date().toLocaleDateString("en-US", {
        year: "numeric",
        month: "long",
        day: "numeric"
      });
    }

    const ctrlIn = document.getElementById("control");
    const ctrlOut = document.getElementById("control-display");
    if (ctrlIn && ctrlOut) {
      ctrlOut.textContent = ctrlIn.value || "___________";
    }
  });
});
</script>


  </body>
</html>
